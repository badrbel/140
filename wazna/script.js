// ๐ JavaScript ูููููุน ุงูุฑููุงูุณู - ุฎุงุต ุจูุฒูุฉ ๐

// ==========================================
// ๐จ ูุธุงู ุงูุตูุฑ ุงูุนุดูุงุฆู ุจุฏูู ุชูุฑุงุฑ
// ==========================================

function getImagePool() {
  const stored = localStorage.getItem('imagePool');
  return stored ? JSON.parse(stored) : [];
}

function saveImagePool(pool) {
  localStorage.setItem('imagePool', JSON.stringify(pool));
}

function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}

function getNextImageNumber() {
  let pool = getImagePool();
  if (pool.length === 0) {
    // ุฅูุดุงุก pool ุฌุฏูุฏ ุจุฌููุน ุงูุตูุฑ (1-20)
    pool = Array.from({ length: 20 }, (_, i) => i + 1);
    shuffleArray(pool);
  }
  const nextImage = pool.pop();
  saveImagePool(pool);
  return nextImage;
}

function setRandomBackground() {
  const imageNumber = getNextImageNumber();
  document.body.style.backgroundImage = `url('images/${imageNumber}.jfif')`;
  document.body.classList.add('with-image');

  // ุชุฃุซูุฑ fade-in ููุฎูููุฉ
  document.body.style.opacity = '0';
  setTimeout(() => {
    document.body.style.transition = 'opacity 1s ease-in-out';
    document.body.style.opacity = '1';
  }, 10);
}

// ==========================================
// ๐ ูุธุงู ุงูุฑุณุงุฆู ุงูุนุดูุงุฆูุฉ ุจุฏูู ุชูุฑุงุฑ
// ==========================================

const allMessages = [
  // ุงูุนุจุงุฑุงุช ุงูุฃุตููุฉ  
  "ูุง ููุฑ ุงููููุ ุงุนุชุฑุงูู ูู ๐",
  "ุญูุงุชู ูููุง ุฅูู ูุง ูุฒูู ๐",
  "ูุฒูู ุญุจูุจุชู ุจุณ ๐",
  "ูุง ูุจุถ ููุจู โค๏ธ",
  "ูุฒูู ุงูุฏูุน ููู ๐",
  "ุนูุฑู ูุญูุงุชู ูุฒูู ๐ฆ",
  "ููุงูู ุงูุฌููู ูุฒูู ๐ธ",
  "ูุฒูู ุฏูุน ุงูุฏููุง ูููุง ๐บ",
  "ูุง ุฃุฑู ูุณูุฉ ูู ุญูุงุชู ูุฒูู ๐ท",
  "ุฑูุญ ุงูููุจ ูุฒูู ๐",
  "ูุง ููุฑ ุนูููู ุจููุชู โจ",
  "ุถุญูุชู ุญูุงุฉ ูุฒูู ๐",
  "ูุฒูู ูุฑุญุชู ุงููุจูุฑุฉ ๐",
  "ุฃุญุจู ุฃูุซุฑ ููุง ุชุชุฎูููู ูุฒูู ๐",
  "ูุจุถู ูุฒูู ๐",
  "ูุฒูู ุงูุนุดู ุงูุญูุงู ๐",
  "ููุจู ูุซู ุงูุณูุฑุ ุงุญุจู ๐ฌ",
  "ูุฒูู ููุฑู ุงููุถูุก ๐",
  "ูู ููู ุฃุญุจู ุฃูุซุฑ ูููุจู ูุฑุฑ ูุง ูุฑุฌุน ุฅูุง ูุนู ๐",
  "ูุฒูู ุฏููุชู ุงูุฌูููุฉ ๐",
  "ูุง ุฃุฌูู ูู ุงููุฑุฏ ูุฒูู ๐น",
  "ุฃูุง ุฃุณุนุฏ ุฅูุณุงู ุจูุฌูุฏู ูุฒูู ๐",
  "ูุฒูู ูู ุดูุก ุจุญูุงุชู ๐ซ",
  "ุฑุจู ูุง ูุญุฑููู ููู ูุฒูู ๐",
  "ูุฒูู ูุง ุชูุงูู ๐ฅฐ",
  "ุฅูุชู ูููุช ุจุฒูุงุฏุฉ ูุฒูู ๐",
  "ุบูุงู ุจููุจู ูุง ููุชูู ูุฒูู ๐",
  "ุณุนุงุฏุชู ุจูุฌูุฏู ูุง ุชูุตู ูุฒูู ๐ถ",
  "ูุฒูู ุฑูุญู ุงูุซุงููุฉ ๐",
  "ูุง ุทูู ุงูุฌูุงู ูุฒูู ๐ฆ",
  "ููู ุนูู ุจุนุถู ุญูู ูุฒูู ๐",
  "ุตูุชู ุฃุฌูู ููุณููู ูุฒูู ๐ต",
  "ุฏูุน ุงูุฏููุง ูุฒูู ๐",
  "ูุง ุดูุก ูุถุงูู ุญุจู ูุง ูุฒูู ๐",
  "ูุฒูู ุฃุญูู ุตุฏูุฉ ุจุญูุงุชู ๐",
  "ูุฒูู ููุฒู ุงูุซููู ๐",
  "ุถุญูุชู ุฏูุงุก ุฑูุญู ูุฒูู ๐",
  "ูุฒูู ุฃุฑู ูุณูุฉ ุจุญูุงุชู ๐",
  "ูุฒูู ุณุนุงุฏุชู ุงููุทููุฉ ๐",
  "ุฃุญุจู ุจูุง ุญุฏูุฏ ูุฒูู ๐",
  "ูุฒูู ุญุจู ุงูุฃูู ูุงูุฃุฎูุฑ โค๏ธโ๐ฅ",
  "ูุฒูู ูุฌู ุณุงุทุน ูู ุณูุงุฆู โญ",
  "ูุง ุฃุทูุจ ููุจุ ููุจู ูุง ูููุชุง ๐",
  "ูู ุดูุก ููู ูุฌูู ๐",
  "ูุฌูุฏู ุญูุงุฉ ูุฒูู ๐บ",
  "ูุฒูู ูุงูุฃููุงุณ ุจุฑูููุง ๐",
  "ูุฒูู ุฌูุงู ุงูุฃูุงู ๐ต",
  "ูููุง ูุชุจุช ูุง ุฃูููู ุญูู ูุฒูู ๐",
  "ูุฒูู ููุงูู ุงูุญุงุฑุณ ๐ผ",
  "ูุฒูู ุฃูุซุฑ ููุง ุชูููุช ๐",
  "ูู ูุญุธุฉ ูุนู ูุง ุชููุณู ูุฒูู ๐ท",
  "ูุฒูู ุงูุชู ุญูุงูุฉ ุงูุญูุงุฉ ๐ญ",
  "ูุง ุจุณูุฉ ุฃูุงูู ๐",
  "ูุง ุจูุช ุจุชุณูู ๐ธ",
  "ุฃุญุจู ุจุฌููู ูุง ุงูุฒู ๐๐",
  "ุชุญูุฉ ูุณุงููุฉ ุฌุงุจุช ุฏููุง ูู ๐",

  // ุนุจุงุฑุงุช ุฌุฏูุฏุฉ ๐
  "ูุฒููุ ุงูุชู ุณุฑ ุณุนุงุฏุชู ๐บ",
  "ูุง ุฃููุฑุชู ุงูุญููุฉุ ุญุจู ูู ููุจู ุณุงูู ๐ธ",
  "ูุฒูู ูุง ููุฑ ุงูุจุฏุฑุ ุถููุชู ุญูุงุชู ๐",
  "ูู ุตุจุงุญ ูุนุงูู ุฃุฌูู ุตุจุงุญ โ๏ธ",
  "ูุฒูู ุญุจูุจุชูุ ุงูุชู ูุฏูุชู ูู ุงูุณูุง ๐",
  "ูุง ุฃุญูู ุดู ุดุงูุชู ุนูููู ๐๐",
  "ูุฒูู ูุง ุฑูุญ ุฑูุญูุ ูุง ุฃูุฏุฑ ุฃุณุชุบูู ุนูู ๐",
  "ุงูุชู ุงููุณูุฉ ุงููู ุจุชูุนุด ููุจู ๐",
  "ูุฒูู ุงูุบุงููุฉุ ุญุจู ุฃูุจุฑ ูู ุงูุฏููุง ๐",
  "ูุง ุญููุชูุ ูู ููู ูุนุงูู ุนูุฏ ๐",
  "ูุฒูู ูุง ููุจูุ ุงูุชู ุฃุญูู ุญุงุฌุฉ ุตุงุฑุชูู ๐",
  "ุฑุจู ูุญูุธู ูุง ุฃุบูู ุฅูุณุงูุฉ ๐คฒ",
  "ูุฒูู ุงูุฌูููุฉุ ุงุจุชุณุงูุชู ุจุชุดุฑุญ ุตุฏุฑู ๐",
  "ูุง ุญุจูุจุฉ ููุจูุ ูุณุชุญูู ุงูุณุงูู ๐ญ",
  "ูุฒูู ูุง ุฏููุชูุ ุจููุช ูููู ๐",
  "ููุงูู ููุณููู ูู ุฃุฐูู ูุง ุญููุฉ ๐ผ",
  "ูุฒูู ุงูุฏููุนุฉุ ุงููู ูุณุนุฏู ุฏุงููุงู ๐",
  "ูุง ุฃุฌูู ูุตุฉ ุญุจ ูู ุญูุงุชู ๐๐",
  "ูุฒูู ุญุจูุจุชูุ ูู ููุณ ุฃุชููุณู ุจุดูุฑู ๐",
  "ุงูุชู ุงูุญูู ุงููู ุตุงุฑ ุญูููุฉ ๐ซ",
  "ูุฒูู ูุง ุนููููุ ูุง ูู ุฃุญูู ููู ๐",
  "ุญุจู ูู ููุจู ุฒู ุงููุฌูู ูู ุงูุณูุง โญ",
  "ูุฒูู ุงูุทูุจุฉุ ุฑุจู ูุฏููู ูู ุญูุงุชู ๐คฒ",
  "ูุง ุญูุงุฉ ููุจูุ ูุฌูุฏู ูุนูุฉ ๐ธ",
  "ูุฒูู ุงูุบุงููุฉ ุนููุ ูุง ุดุจุนุช ููู ุฃุจุฏ ๐",
  "ูู ูุญุธุฉ ุจุนูุฏ ุนูู ุชุนุฐูุจ ๐",
  "ูุฒูู ูุง ุญุจูุ ุงูุชู ุงูุณุนุงุฏุฉ ๐",
  "ูุง ุฃุญูู ุจูุชูุ ููุจู ูููู ๐",
  "ูุฒูู ุงูุญููุฉุ ูู ุดู ูููู ููุงู ๐ฆ",
  "ุฑุจูุง ูุฌูุนูุง ูู ุงูุฏููุง ูุงูุขุฎุฑุฉ ๐",
  "ูุฒูู ูุง ููุฑุ ููุฑุชู ููุงูู ๐",
  "ุญุจูุจุชู ุงููู ูุง ููุง ูุซูู ๐",
  "ูุฒูู ุงูุฌูููุฉุ ุนูููู ุณุญุฑ ๐๏ธโจ",
  "ูุง ุฃุฑูุน ูุฏูู ุฑุจู ุฃุนุทุงูู ๐",
  "ูุฒูู ูุง ุญูุงุชูุ ูุง ุนูุฏู ุบูุฑู ๐",
  "ูู ูููุฉ ุชูููููุง ุชุณุนุฏูู ูุง ุญููุฉ ๐ฃ๏ธ๐",
  "ูุฒูู ุงูุบุงููุฉุ ุญุจู ุดูุงุก ุฑูุญู ๐๐",
  "ูุง ุฃุญูู ุดุนูุฑ ูููู ุฅูุณุงู ูุญุณูู ๐ฅฐ",
  "ูุฒูู ูุง ุนูุฑูุ ุจุงูู ุจุญุจู ุฃูุซุฑ โค๏ธ",
  "ุงูุชู ุงูุฃูู ูุงููุฑุญ ูุงูุญูุงุฉ ๐",
  "ูุฒูู ุงูุฏููุนุฉุ ุถุญูุชู ุฌูุฉ ๐",
  "ูุง ูุทุนุฉ ูู ููุจูุ ูุง ุจูุฏุฑ ุฃุจุนุฏ ุนูู ๐",
  "ูุฒูู ูุง ุญุจูุจุชูุ ูู ููู ุฃุดุชุงููู ุฃูุซุฑ ๐ญ",
  "ุฑุจู ูุญูููู ูู ูู ุดุฑ ูุง ุบุงููุฉ ๐ก๏ธ",
  "ูุฒูู ูุง ููุฑ ุนูููุ ุงูุชู ุงูุฃูุงู ๐ก",
  "ุญุจู ุนูููู ูุนูู ุงูุญูุงุฉ ุงูุญููููุฉ ๐๐",
  "ูุฒูู ุงูุญููุฉุ ููุจู ุจูุฏู ุจุงุณูู ๐",
  "ูุง ุฃุฌูู ุญุธ ุฌุงูู ูู ุญูุงุชู ๐",
  "ูุฒูู ูุง ุฑูุญูุ ูุง ูู ุฃุญุฏ ุฒูู ๐",
  "ูู ุตูุฉ ูููู ุจุชุฎูููู ุฃุญุจู ุฃูุซุฑ ๐",
  "ูุฒูู ุงูุบุงููุฉุ ุงูุชู ูููุชู ุงูุญููููุฉ ๐๐",
  "ูุง ูุจุถุฉ ููุจูุ ููู ุฃุนูุด ุจุฏูููุ ๐",
  "ูุฒูู ูุง ุญูุงุชูุ ุจุญุจู ููู ูุง ุชุชุฎููู โพ๏ธ",
  "ุฑุจูุง ููุชุจู ููุง ูู ูู ุญูุงุฉ ๐",
  "ูุฒูู ุงูุฌูููุฉุ ุนุทุฑู ุจูููุง ุญูุงุชู ๐บ",
  "ูุง ุฃุญูู ุจุณูุฉ ุดูุชูุง ๐๐",
  "ูุฒูู ูุง ููุจูุ ูุนุงูู ุงูุฏููุง ุญููุฉ ๐ฐ",
  "ูู ููุญุฉ ูู ุนููููู ุจุชุณุนุฏูู ๐๏ธ๐",
  "ูุฒูู ุงูุญุจูุจุฉุ ุฑุจู ูุฑุฒููู ุฑุถุงูู ุฏุงููุงู ๐คฒ",
  "ูุง ุฃุบูู ูุฏูู ูููู ุชุตูุฑ ูุฅูุณุงู ๐",
  "ูุฒูู ูุง ููุฑ ุญูุงุชูุ ูุง ุจูุฏุฑ ุฃูุตูู ๐ซ",
  "ุญุจูุจุชู ุงููู ุจุชุฎูููู ุฃุทูุฑ ูู ุงููุฑุญ ๐๏ธ",
  "ูุฒูู ุงูุทูุจุฉุ ููุจู ุฃุจูุถ ุฒู ุงูุซูุฌ โ๏ธ๐",
  "ูุง ุณุจุจ ุงุจุชุณุงูุชู ูู ููู ๐",
  "ูุฒูู ูุง ุนูุฑูุ ูุง ุดูุช ุฃุญูู ููู ๐น",
  "ูู ุญุงุฌุฉ ูููู ุชุฏู ุนูู ุงูุฌูุงู ูุงูููุงู โจ",
  "ูุฒูู ุงูุบุงููุฉุ ุญุจู ุฃูุจุฑ ูุนูุฉ ุนูุฏู ๐",
  "ูุง ุญุจูุจุฉ ุงูุฑูุญุ ูุณุชุญูู ุฃูุณุงูู ๐ญ๐",
  "ูุฒูู ูุง ุฏููุงุ ุจููุช ูู ุทูุจุชู ๐",
  "ุฑุจู ูุฎูููู ููุง ููุญูุธู ูู ูู ุณูุก ๐",
  "ูุฒูู ุงูุฌูููุฉุ ููุงูู ุนุณู ๐ฏ",
  "ูุง ุฃุญูู ุฅุญุณุงุณ ุนุดุชู ูู ุญูุงุชู ๐ฅฐ",
  "ูุฒูู ูุง ุญุจูุ ูุนุงูู ูู ุดู ุฃุญูู ๐",
  "ุญุจูุจุชู ุงููุญูุฏุฉ ุงููู ูุงููุง ุจุฏูู ๐",
  "ูุฒูู ุงูุฏููุนุฉุ ุฑุจูุง ูุณุนุฏ ููุจู ๐",
  "ูุง ููุฑ ุฒูุงููุ ููุฑุชู ุณูุงุฆู ๐โจ",
  "ูุฒูู ูุง ุฑูุญ ููุจูุ ุจุญุจู ุจุฌููู ๐",
  "ูู ุตุจุงุญ ุจููุฑ ูููู ูุจุดูุฑ ุฑุจู ๐",
  "ูุฒูู ุงูุญููุฉุ ุงูุชู ุงูุณููุฑ ูู ุญูุงุชู ๐ญ",
  "ูุง ุฃุญูู ุดุนูุฑ ูููู ููุจ ูุญุณู ๐",
  "ูุฒูู ูุง ุญูุงุชูุ ูุง ุจูุฏุฑ ุฃุณุชุบูู ุนูู ๐",
  "ุฑุจู ูุฌุนู ุฃูุงูู ูููุง ูุฑุญ ูุณุนุงุฏุฉ ๐",
  "ูุฒูู ุงูุบุงููุฉุ ูู ูุญุธุฉ ูุนุงูู ุฐูุฑู ๐ธ",
  "ูุง ููุฑ ุนูููุ ุดููุชู ุจุชุฑูุญ ููุจู ๐๐",
  "ูุฒูู ูุง ุนูุฑูุ ุญุจู ูู ุฏูู ๐โค๏ธ",
  "ุญุจูุจุชู ุงููู ุจุชุฎูููู ุฃุญุณ ุจูููุฉ ุงูุญูุงุฉ ๐",
  "ูุฒูู ุงูุฌูููุฉุ ุตูุชู ูุญู ุฌููู ๐ถ",
  "ูุง ุฃุฌูู ูุฏูู ูู ุฑุจูุง ููุง ๐๐",
  "ูุฒูู ูุง ุฑูุญูุ ูุณุชุญูู ุฃูุฏุฑ ุฃุจุนุฏ ุนูู ๐ซ๐",
  "ูู ููู ูุนุงูู ุฃุฌูู ูู ุงููู ูุจูู ๐๐",
  "ูุฒูู ุงูุฏููุนุฉุ ุถุญูุชู ุฏูุง ๐๐",
  "ูุง ุญุจูุจุฉ ููุจู ุงููุญูุฏุฉุ ุฃูุง ูููู ๐",
  "ูุฒูู ูุง ููุฑ ุงูุจูุชุ ุฑุจู ูุญูุธู ๐โจ",
  "ุญุจู ุบูุฑ ุญูุงุชู ููุฃุญุณู ๐๐",
  "ูุฒูู ุงูุญููุฉุ ูู ุญุงุฌุฉ ูููู ุญููุฉ ๐ฌ",
  "ูุง ุฃุญูู ุจูุชู ูู ุงูููู ููู ๐๐ธ",
  "ูุฒูู ูุง ุญุจูุจุชูุ ุจุดูุฑ ุฑุจู ูู ููู ุนูููู ๐",
  "ุฑุจูุง ูุฏููู ูู ุญูุงุชู ูุง ุบุงููุฉ ๐คฒ๐",
  "ูุฒูู ุงูุบุงููุฉุ ุงูุชู ุงูุฃูู ูุงูููุฑ ๐ฏ๏ธ",
  "ูุง ูุทุนุฉ ููุจูุ ุญุจู ูุง ูู ุญุฏูุฏ โพ๏ธ๐",
  "ูุฒูู ูุง ุนููููุ ูุง ุดูุช ุฃุทูุจ ููู ๐๏ธ๐",
  "ุญุจูุจุชู ุงููู ุจุชุณุนุฏูู ุจูุฌูุฏูุง ๐",
  "ูุฒูู ุงูุฌูููุฉุ ููุจู ููุฒ ๐",
  "ูุง ุฃุญูู ุญุธ ูู ุงูุฏููุงุ ุฑุจู ููููู ุจููู ๐",
  "ูุฒูู ูุง ุญูุงุชู ูููุงุ ุจุญุจู ุฃูุซุฑ ูู ุฑูุญู ๐",
  "ูู ูููุฉ ููู ุจุชุฎูููู ูู ุณุงุจุน ุณูุง โ๏ธ",
  "ูุฒูู ุงูุทูุจุฉุ ุฑุจูุง ูุฑุถู ุนูููู ๐คฒ",
  "ูุง ููุฑ ููุงููุ ุถููุชู ุฏุฑุจู ๐",
  "ูุฒูู ูุง ููุจูุ ูุนุงูู ุงูุญูุงุฉ ูุนูุงูุง ูุฎุชูู ๐",
  "ุญุจูุจุชู ุงููุญูุฏุฉ ูู ุงูููู ๐๐",
  "ูุฒูู ุงูุฏููุนุฉุ ูุง ุจูุฏุฑ ุฃุนูุด ุจุฏููู ๐",
  "ูุง ุฃุฌูู ุฅุญุณุงุณ ูุญุณู ุฅูุณุงู ๐ฅฐ",
  "ูุฒูู ูุง ุฑูุญ ุฑูุญูุ ุจููุช ูููู ๐",
  "ุฑุจู ูุฎูููู ููุง ููุญูููู ุฏุงููุงู ๐ก๏ธ",
  "ูุฒูู ุงูุญููุฉุ ูู ุดู ูููู ุฑุงุฆุน ๐",
  "ูุง ุฃุญูู ุดูุชูุง ุนููู ูู ุญูุงุชู ๐๏ธ๐",
  "ูุฒูู ูุง ุนูุฑูุ ุจุญุจู ูู ูู ููุจู โค๏ธ",
  "ูู ุตูุฉ ูููู ุจุชุฎูููู ุฃูุชุฎุฑ ุจููู ๐",
  "ูุฒูู ุงูุบุงููุฉุ ุงูุชู ุงูุณุนุงุฏุฉ ุงูุญููููุฉ ๐",
  "ูุง ุญุจูุจุฉ ุงูุฑูุญ ูุงูููุจ ๐๐ญ",
  "ูุฒูู ูุง ููุฑ ุนูููุ ูุง ุดูุช ุฃุญูู ููู ๐น",
  "ุญุจูุจุชู ุงููู ุจุชุฎูููู ุฃุดูู ุงูุฏููุง ุจุนููู ูุฎุชููุฉ ๐โจ",
  "ูุฒูู ุงูุฌูููุฉุ ุฑุจูุง ูุณุนุฏู ุฏุงููุงู ๐",
  "ูุง ุฃุบูู ูู ุงูุฏููุง ููุง ูููุง ๐๐",
  "ูุฒูู ูุง ุญูุงุชูุ ุจุญุจู ููู ุงููุตู ๐",
  "ุฑุจู ูุฌูุนูุง ุนูู ุฎูุฑ ุฏุงููุงู ๐คฒ",
  "ูุฒูู ุงูุฏููุนุฉุ ุถุญูุชู ุชููุฑ ุงูุฏููุง ๐โ๏ธ",
  "ูุง ููุฑ ุงูุฃููุงุฑุ ููุฑู ุณุงุทุน ๐โจ",
  "ูุฒูู ูุง ููุจูุ ูุนุงูู ูู ุญุงุฌุฉ ุฃุญูู ๐",
  "ุญุจูุจุชู ุงููุญูุฏุฉ ุงููู ูู ููุจู ๐",
  "ูุฒูู ุงูุญููุฉุ ูุง ูู ุฒูู ูู ุงูุฏููุง ๐๐",
  "ูุง ุฃุญูู ูุณูุฉ ููุง ูู ุญูุงุชู ๐๐",
  "ูุฒูู ูุง ุฑูุญูุ ุจุญุจู ุจูู ุฌูุงุฑุญู โค๏ธ",
  "ูู ูุญุธุฉ ุจููุฑ ูููุง ุจููู ูุจุฏุนููู ๐คฒ๐ญ",
  "ูุฒูู ุงูุบุงููุฉุ ุงูุชู ุฃุญูู ูุฏูู ๐",
  "ูุง ููุฑ ุญูุงุชู ูุจูุฌุฉ ุฃูุงูู โจ๐",
  "ูุฒูู ูุง ุนูุฑูุ ุฑุจู ูุญูุธู ูู ูู ุดุฑ ๐ก๏ธ",
  "ุญุจูุจุชู ุงููู ุจุชุฎูููู ุฃุดุนุฑ ุจุงูุณุนุงุฏุฉ ุงููุงููุฉ ๐ฏ๐",
  "ูุฒูู ุงูุฌูููุฉุ ููุจู ุทูุจ ุฒู ุงูููุฑ ๐๐",
  "ูุง ุฃุญูู ุญุงุฌุฉ ุตุงุฑุชูู ูู ุงูุญูุงุฉ ๐",
  "ูุฒูู ูุง ุญุจูุจุชูุ ุจุดูุฑ ุฑุจู ุนูู ูุฌูุฏู ๐๐",
  "ุฑุจูุง ูุฏููู ููุง ูุง ุฃุบูู ุฅูุณุงูุฉ ๐คฒโค๏ธ"
];

let messagePool = [];

function shuffleMessages() {
  messagePool = [...allMessages];
  shuffleArray(messagePool);
}

function getNextMessage() {
  if (messagePool.length === 0) {
    shuffleMessages();
  }
  return messagePool.pop();
}

// ==========================================
// โจ๏ธ ุชุฃุซูุฑ ุงููุชุงุจุฉ (Typing Effect)
// ==========================================

function typeMessage(text, elementId, callback) {
  let i = 0;
  const element = document.getElementById(elementId);
  element.innerHTML = '';

  function typing() {
    if (i < text.length) {
      element.innerHTML += text[i] === ' ' ? '&nbsp;' : text[i];
      i++;
      setTimeout(typing, 50);
    } else if (callback) {
      callback();
    }
  }
  typing();
}

// ==========================================
// ๐ซ ุชุฃุซูุฑุงุช ุงููููุจ ูุงููุฌูู ุงููุชุญุฑูุฉ
// ==========================================

function createParticles() {
  const particlesContainer = document.createElement('div');
  particlesContainer.className = 'particles';
  document.body.appendChild(particlesContainer);

  const emojis = ['๐', '๐', '๐', '๐', 'โจ', 'โญ', '๐', '๐ซ', '๐ฆ', '๐ธ'];

  function addParticle() {
    const particle = document.createElement('div');
    particle.className = 'particle';
    particle.textContent = emojis[Math.floor(Math.random() * emojis.length)];
    particle.style.left = Math.random() * 100 + '%';
    particle.style.animationDuration = (Math.random() * 5 + 5) + 's';
    particle.style.animationDelay = Math.random() * 2 + 's';

    particlesContainer.appendChild(particle);

    // ุฅุฒุงูุฉ ุงูparticle ุจุนุฏ ุงูุชูุงุก ุงูanimation
    setTimeout(() => {
      particle.remove();
    }, 10000);
  }

  // ุฅุถุงูุฉ particles ุจุดูู ูุชูุฑุฑ
  setInterval(addParticle, 800);

  // ุฅุถุงูุฉ particles ุฃูููุฉ
  for (let i = 0; i < 10; i++) {
    setTimeout(addParticle, i * 200);
  }
}

// ==========================================
// ๐ ุชุฃุซูุฑุงุช ุงูุงูุชูุงู ุจูู ุงูุตูุญุงุช
// ==========================================

function smoothTransition(url) {
  document.body.style.transition = 'opacity 0.5s ease-out';
  document.body.style.opacity = '0';

  setTimeout(() => {
    window.location.href = url;
  }, 500);
}

// ==========================================
// ๐ต ุชุฃุซูุฑุงุช ุตูุชูุฉ (ุงุฎุชูุงุฑู)
// ==========================================

function playClickSound() {
  // ูููู ุฅุถุงูุฉ ุตูุช ูุทูู ููุง ุฅุฐุง ุฑุบุจุช
  // const audio = new Audio('sounds/click.mp3');
  // audio.play();
}

// ==========================================
// ๐ฑ ุชุญุณูู ุงูุชุฌุฑุจุฉ ุนูู ุงูููุจุงูู
// ==========================================

function isMobile() {
  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
}

// ููุน ุงูุฒูู ุงููุฒุฏูุฌ ุนูู ุงูููุจุงูู
if (isMobile()) {
  document.addEventListener('dblclick', (e) => {
    e.preventDefault();
  });
}

// ==========================================
// ๐ ุชููุฆุฉ ุนุงูุฉ
// ==========================================

// ุฅุถุงูุฉ class ููbody ุญุณุจ ููุน ุงูุฌูุงุฒ
if (isMobile()) {
  document.body.classList.add('mobile');
} else {
  document.body.classList.add('desktop');
}

// ุฅูุดุงุก ุงูparticles ุนูุฏ ุชุญููู ุฃู ุตูุญุฉ
document.addEventListener('DOMContentLoaded', () => {
  createParticles();
});

// ==========================================
// ๐ ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงูุฑููุงูุณู
// ==========================================

function showNotification(title, message, icon = '๐', duration = 5000) {
  // ุฅูุดุงุก ุนูุตุฑ ุงูุฅุดุนุงุฑ
  const notification = document.createElement('div');
  notification.className = 'notification';

  notification.innerHTML = `
    <button class="notification-close" onclick="this.parentElement.remove()">ร</button>
    <div class="notification-title">
      <span class="notification-icon">${icon}</span>
      ${title}
    </div>
    <div class="notification-message">${message}</div>
  `;

  document.body.appendChild(notification);

  // ุฅุฒุงูุฉ ุงูุฅุดุนุงุฑ ุชููุงุฆูุงู ุจุนุฏ ุงููุฏุฉ ุงููุญุฏุฏุฉ
  setTimeout(() => {
    notification.classList.add('hide');
    setTimeout(() => notification.remove(), 500);
  }, duration);
}

// ุฑุณุงุฆู ุชุฑุญูุจูุฉ ูุชููุนุฉ
const welcomeMessages = [
  { title: 'ุฃููุงู ูุง ููุฑ ๐', message: 'ูุฒูู ููุฑุช ุงููููุน! ๐', icon: 'โจ' },
  { title: 'ุญุจูุจุชู ูุตูุช ๐', message: 'ูู ุดูุก ุฃุฌูู ุจูุฌูุฏู!', icon: '๐ธ' },
  { title: 'ูุฒูู ุงูุญููุฉ ๐ฌ', message: 'ุงุดุชูุชูู ูู ุขุฎุฑ ุฒูุงุฑุฉ!', icon: '๐' },
  { title: 'ููุงูู ุฑุฌุน ๐ผ', message: 'ุงููููุน ูุงู ููุชุธุฑู!', icon: '๐ฆ' }
];

function showWelcomeNotification() {
  const random = welcomeMessages[Math.floor(Math.random() * welcomeMessages.length)];
  showNotification(random.title, random.message, random.icon, 6000);
}

// ==========================================
// ๐ ูุธุงู ุงูุฅุญุตุงุฆูุงุช
// ==========================================

function getStats() {
  const stats = localStorage.getItem('waznaStat') || '{"visits":0,"messages":0,"favorites":0}';
  return JSON.parse(stats);
}

function saveStats(stats) {
  localStorage.setItem('waznaStats', JSON.stringify(stats));
}

function incrementVisits() {
  const stats = getStats();
  stats.visits = (stats.visits || 0) + 1;
  saveStats(stats);
  return stats.visits;
}

function incrementMessages() {
  const stats = getStats();
  stats.messages = (stats.messages || 0) + 1;
  saveStats(stats);
  return stats.messages;
}

function createStatsDisplay() {
  const stats = getStats();

  const statsContainer = document.createElement('div');
  statsContainer.className = 'stats-container';
  statsContainer.id = 'stats-display';

  statsContainer.innerHTML = `
    <div class="stat-item">
      <span class="stat-icon">๐๏ธ</span>
      <span>ุงูุฒูุงุฑุงุช:</span>
      <span class="stat-number">${stats.visits || 0}</span>
    </div>
    <div class="stat-item">
      <span class="stat-icon">๐</span>
      <span>ุงูุฑุณุงุฆู:</span>
      <span class="stat-number">${stats.messages || 0}</span>
    </div>
    <div class="stat-item">
      <span class="stat-icon">โญ</span>
      <span>ุงูููุถูุฉ:</span>
      <span class="stat-number">${stats.favorites || 0}</span>
    </div>
  `;

  document.body.appendChild(statsContainer);
}

function updateStatsDisplay() {
  const statsDisplay = document.getElementById('stats-display');
  if (statsDisplay) {
    const stats = getStats();
    const numbers = statsDisplay.querySelectorAll('.stat-number');
    if (numbers[0]) numbers[0].textContent = stats.visits || 0;
    if (numbers[1]) numbers[1].textContent = stats.messages || 0;
    if (numbers[2]) numbers[2].textContent = stats.favorites || 0;
  }
}

// ==========================================
// โญ ูุธุงู ุงูููุถูุฉ
// ==========================================

function getFavorites() {
  const favorites = localStorage.getItem('favorites');
  return favorites ? JSON.parse(favorites) : [];
}

function saveFavorites(favorites) {
  localStorage.setItem('favorites', JSON.stringify(favorites));
}

function toggleFavorite(message) {
  const favorites = getFavorites();
  const index = favorites.indexOf(message);

  const stats = getStats();

  if (index === -1) {
    favorites.push(message);
    stats.favorites = (stats.favorites || 0) + 1;
    showNotification('ุชูุช ุงูุฅุถุงูุฉ! โญ', 'ุงูุฑุณุงูุฉ ุฃูุถููุช ููููุถูุฉ', '๐', 3000);
    return true;
  } else {
    favorites.splice(index, 1);
    stats.favorites = Math.max(0, (stats.favorites || 0) - 1);
    showNotification('ุชูุช ุงูุฅุฒุงูุฉ', 'ุงูุฑุณุงูุฉ ุฃูุฒููุช ูู ุงูููุถูุฉ', '๐', 3000);
    return false;
  }

  saveFavorites(favorites);
  saveStats(stats);
  updateStatsDisplay();
}

function isFavorite(message) {
  const favorites = getFavorites();
  return favorites.includes(message);
}

function createFavoriteButton(message) {
  const btn = document.createElement('button');
  btn.className = 'favorite-btn';
  btn.innerHTML = isFavorite(message) ? 'โญ' : 'โ';
  btn.onclick = function () {
    const isNowFavorite = toggleFavorite(message);
    this.innerHTML = isNowFavorite ? 'โญ' : 'โ';
    this.classList.add('active');
    setTimeout(() => this.classList.remove('active'), 500);
  };
  return btn;
}

// ==========================================
// ๐ ุฑุณุงุฆู ููุงุฌุฃุฉ
// ==========================================

const surpriseMessages = [
  { icon: '๐', text: 'ููุงุฌุฃุฉ! ุฃูุชู ุงูุฃุฌูู ูู ุงูููู ููู! ๐' },
  { icon: '๐', text: 'ูุฒููุ ุญุจู ูู ุจุญุฌู ุงูุณูุงุก! โจ' },
  { icon: '๐', text: 'ุฃูุชู ุฃุบูู ูู ูู ุงููููุฒ! ๐' },
  { icon: '๐ฆ', text: 'ูุง ุฃุญูู ูุฏูุฉ ูู ุงููู! ๐ธ' },
  { icon: '๐', text: 'ุถุญูุชู ุจุชููุฑ ุญูุงุชู ูุง ูุฒูู! ๐' }
];

function showSurprise() {
  const surprise = surpriseMessages[Math.floor(Math.random() * surpriseMessages.length)];

  const modal = document.createElement('div');
  modal.className = 'surprise-modal';

  modal.innerHTML = `
    <div class="surprise-content">
      <div class="surprise-icon">${surprise.icon}</div>
      <div class="surprise-text">${surprise.text}</div>
      <button class="surprise-close" onclick="this.parentElement.parentElement.remove()">
        ุดูุฑุงู ูุง ุญุจูุจู ๐
      </button>
    </div>
  `;

  document.body.appendChild(modal);

  // ุชุฃุซูุฑ ุตูุชู (ุงุฎุชูุงุฑู)
  playClickSound();
}

// ูุญุต ุฅุฐุง ุญุงู ููุช ุงูููุงุฌุฃุฉ (ูู 10 ุฑุณุงุฆู)
function checkSurprise() {
  const stats = getStats();
  if (stats.messages && stats.messages % 10 === 0) {
    setTimeout(() => showSurprise(), 2000);
  }
}

// ==========================================
// ๐ต ูุธุงู ุงูุฃุตูุงุช
// ==========================================

let soundEnabled = localStorage.getItem('soundEnabled') !== 'false';

function createSoundToggle() {
  const toggle = document.createElement('div');
  toggle.className = 'sound-toggle';
  toggle.innerHTML = soundEnabled ? '๐' : '๐';
  toggle.classList.toggle('muted', !soundEnabled);

  toggle.onclick = function () {
    soundEnabled = !soundEnabled;
    localStorage.setItem('soundEnabled', soundEnabled);
    this.innerHTML = soundEnabled ? '๐' : '๐';
    this.classList.toggle('muted', !soundEnabled);

    if (soundEnabled) {
      showNotification('ุงูุตูุช ููุนูู ๐', 'ุชู ุชูุนูู ุงูุชุฃุซูุฑุงุช ุงูุตูุชูุฉ', '๐ต', 2000);
    }
  };

  document.body.appendChild(toggle);
}

// ุชุฃุซูุฑ ููุฑุฉ ูุทูู
function playClickSound() {
  if (!soundEnabled) return;

  // ุฅูุดุงุก ุตูุช ุจุณูุท ุจุงุณุชุฎุฏุงู Web Audio API
  try {
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    const oscillator = audioContext.createOscillator();
    const gainNode = audioContext.createGain();

    oscillator.connect(gainNode);
    gainNode.connect(audioContext.destination);

    oscillator.frequency.value = 800;
    oscillator.type = 'sine';

    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);

    oscillator.start(audioContext.currentTime);
    oscillator.stop(audioContext.currentTime + 0.1);
  } catch (e) {
    // ุชุฌุงูู ุงูุฃุฎุทุงุก ูู ุงููุชุตูุญุงุช ุงููุฏููุฉ
  }
}

// ==========================================
// ๐พ ุญูุธ ุงูุฑุณุงูุฉ ูุตูุฑุฉ (html2canvas required)
// ==========================================

function saveMessageAsImage() {
  showNotification('ูุฑูุจุงู! ๐ธ', 'ููุฒุฉ ุญูุธ ุงูุตูุฑุฉ ูุฑูุจุงู...', '๐', 3000);
  // ูููู ุฅุถุงูุฉ ููุชุจุฉ html2canvas ูุญูุธ ุงูุฑุณุงูุฉ ูุตูุฑุฉ
}
